/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  FileName.c
 *        \brief
 *
 *      \details
 *
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL MACROS CONSTANT\FUNCTION
 *********************************************************************************************************************/
#define USER_NO_MATCH (-1)

/**********************************************************************************************************************
 *  LOCAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/

/******************************************************************************
 * \Syntax          : Std_ReturnType FunctionName(AnyType parameterName)
 * \Description     : Describe this service
 *
 * \Sync\Async      : Synchronous
 * \Reentrancy      : Non Reentrant
 * \Parameters (in) : parameterName   Parameter Describtion
 * \Parameters (out): None
 * \Return value:   : Std_ReturnType  E_OK
 *                                    E_NOT_OK
 *******************************************************************************/

/**********************************************************************************************************************
 *  END OF FILE: FileName.c
 *********************************************************************************************************************/

/**********************************************************************************************************************

 *  FILE DESCRIPTION
 *  -------------------------------------------------------------------------------------------------------------------
 *         File: prompt.c

 *********************************************************************************************************************/


/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <prompt.h>
#include <errno.h>
/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/

/******************************************************************************
 * \Syntax          : int pront_prompt();
 * \Description     : prints the prompt message which is the current user and the current path
 *
 *
 * \Parameters (in) : None
 * \Parameters (out): None
 * \Return value:   : 0 	if success
					  -1	if there is an error getting user name (no match for "USERNAME" environment variable
					 errno 	if there is an error getting the path of the current working directory
 *******************************************************************************/
int print_prompt()
{	
	char * user =NULL;
	char * path =NULL;
	
	if((user = getenv("USERNAME")) ==NULL)
		return USER_NO_MATCH;	
	
	if((path = getcwd(NULL, 0)) ==NULL)
		return errno;

	printf("%s: ", user);
	printf("%s $ ",path);
	free(path);
	return 0;
}
/**********************************************************************************************************************
 *  END OF FILE: prompt.c
 *********************************************************************************************************************/
